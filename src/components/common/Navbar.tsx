import { css } from '@emotion/react'
import { Link, useLocation } from 'react-router-dom'
import useUser from '@hooks/auth/useUser'
import { colors } from '@/styles/color'
import Button from './Button'
import Flex from './Flex'
import { useCallback } from 'react'
import MyImage from '../my/MyImage'

const Navbar = () => {
  const { pathname } = useLocation()
  const user = useUser()

  const showButton = ['/signup', '/signin'].includes(pathname) === false

  const renderButton = useCallback(() => {
    if (user !== null) {
      return (
        <Link to="/mypage">
          <MyImage />
        </Link>
      )
    }

    if (showButton) {
      return (
        <Link to="/signin">
          <Button>로그인/회원가입</Button>
        </Link>
      )
    }

    return null
  }, [showButton, user])

  return (
    <Flex justify="space-between" align="center" css={navbarContainerStyles}>
      <Link to="/">
        <img
          src="data:image/jpeg;base64,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"
          alt="홈"
          width={40}
          height={40}
        />
      </Link>
      {renderButton()}
    </Flex>
  )
}

const navbarContainerStyles = css`
  padding: 10px 24px;
  position: sticky;
  top: 0;
  background-color: ${colors.white};
  z-index: 10;
  border-bottom: 1px solid ${colors.grey};
`

export default Navbar
